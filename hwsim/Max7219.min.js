"use strict";function Max7219(i){this.displayId=i,this.regs=[0,8,9,10,11,12,13,14,15,0,0,0,0,0,0,0],this.firstByte=void 0}Max7219.Nop=0,Max7219.Digit0=1,Max7219.Digit1=2,Max7219.Digit2=3,Max7219.Digit3=4,Max7219.Digit4=5,Max7219.Digit5=6,Max7219.Digit6=7,Max7219.Digit7=8,Max7219.Mode=9,Max7219.Intensity=10,Max7219.ScanLimit=11,Max7219.Shutdown=12,Max7219.Test=15;var max7219_AsciiTable=[126,48,109,121,51,91,95,112,127,123,1,79,55,14,103,0];Max7219.SEGA=64,Max7219.SEGB=32,Max7219.SEGC=16,Max7219.SEGD=8,Max7219.SEGE=4,Max7219.SEGF=2,Max7219.SEGG=1,Max7219.SEGDP=128,Max7219.ColorTable=["#400000","#4C0000","#590000","#660000","#720000","#7F0000","#8C0000","#990000","#A50000","#B20000","#BF0000","#CC0000","#D80000","#E50000","#F20000","#FF0000"],Max7219.prototype.setRegister=function(i,t){this.regs[i]=t,this.refresh()},Max7219.prototype.input=function(i){void 0===this.firstByte?this.firstByte=i:(this.setRegister(this.firstByte,i),this.firstByte=void 0)},Max7219.prototype.refresh=function(){var i=document.getElementById(this.displayId);if(i){var t=i.getContext("2d");if(t){t.clearRect(0,0,i.width,i.height);for(var e=0;e<8;e++){var a=this.regs[Max7219.Digit0+e];this.regs[Max7219.Mode]&1<<e&&(a=max7219_AsciiTable[15&a]|128&a),e>this.regs[Max7219.ScanLimit]&&(a=0),1&this.regs[Max7219.Test]&&(a=255),1&this.regs[Max7219.Shutdown]||(a=0);var o=Max7219.ColorTable[15&this.regs[Max7219.Intensity]];this.draw1DigitLayer(t,~a,22*e,0,"#202020"),this.draw1DigitLayer(t,a,22*e,0,o)}}}},Max7219.prototype.draw1DigitLayer=function(i,t,e,a,o){var s=7+e,x=4+a,M=3.5,r=11,n=12;i.lineCap="round",i.beginPath(),i.strokeStyle=o,i.lineWidth=M,t&Max7219.SEGA&&(i.moveTo(4+s,x),i.lineTo(4+s+n,x)),t&Max7219.SEGB&&(i.moveTo(4+s+n,x),i.lineTo(2+s+n,x+1*r)),t&Max7219.SEGC&&(i.moveTo(2+s+n,x+1*r),i.lineTo(s+n,x+2*r)),t&Max7219.SEGD&&(i.moveTo(s,x+2*r),i.lineTo(s+n,x+2*r)),t&Max7219.SEGE&&(i.moveTo(2+s,x+1*r),i.lineTo(s,x+2*r)),t&Max7219.SEGF&&(i.moveTo(4+s,x),i.lineTo(2+s,x+1*r)),t&Max7219.SEGG&&(i.moveTo(2+s,x+1*r),i.lineTo(2+s+n,x+1*r)),i.stroke(),t&Max7219.SEGDP&&(i.beginPath(),i.lineWidth=1,i.fillStyle=o,i.arc(s+1.4*n,x+2*r,2,0,2*Math.PI,!1),i.fill())};